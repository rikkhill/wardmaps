<!DOCTYPE html>
<html>
<head>
    <title>Ward Maps Example</title>
    <script src="https://d3js.org/d3.v4.min.js"></script>
    <script src="https://d3js.org/topojson.v2.min.js"></script>
    <script type="text/javascript" src="./src/minimap.js"></script>

    <style type="text/css">
        .region.selected {
            fill: #aa6666;
        }

        #viewport.selected {
            stroke: #222222;
            stroke-width: 2;
        }

        .container {
            border: 1pt solid black;
        }

    </style>
</head>
<body>

<script>

let myMap = Minimap.map(800, 600, 5, 20);

d3.select("body").node().appendChild(myMap.mainMap.node());
d3.select("body").node().appendChild(myMap.miniMap.node());

d3.json("./data/london_ward_topology.json", function(error, regions) {
    if(error) { return console.error(error) };

    myMap.populate(regions);

    console.log(myMap.mainMap.selectAll(".region"));

    myMap.mainMap.selectAll(".region")
        .on("click", function(d) {
            console.log(d, this);
        } );

});


    </script>
</body>
</html>